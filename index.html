<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css2?family=Readex+Pro:wght@400;500;600;700&display=swap" rel="stylesheet">
    <base target="_top">
    <style>
      body { font-family: 'Readex Pro', Arial, sans-serif; padding: 2em; }
      .form-field { display: block; margin-bottom: 25px; max-width: 400px; width: 100%; }
      select, input { padding: 6px; width: 100%; box-sizing: border-box; }
      .signature { margin-top: 2em; border: 1px solid #ccc; padding: 1em; background: #ffffff; }
    </style>
  </head>
  <body>
    <h2>RiteCare Email Signature Generator</h2>

    <!-- Center Selector -->
    <label class="form-field" for="center">Choose your Center:
      <select id="center">
        <option value="">-- Select Center --</option>
      </select>
    </label>

    <!-- Name Field -->
    <label class="form-field" for="fullname">Full Name:
      <input id="fullname" type="text">
    </label>

    <!-- Title Dropdown -->
    <label class="form-field" for="title">Title:
      <select id="title">
        <option value="">-- Select Title --</option>
        <option>Board Member</option>
        <option>Board Chair</option>
        <option>Trustee</option>
      </select>
    </label>

    <!-- Email Field -->
    <label class="form-field" for="email">Email Address:
      <input id="email" type="email">
    </label>

    <!-- Phone 1 always main -->
    <!-- Removed editable phone1 -->

    <!-- Phone 2 Field -->
    <label class="form-field">Phone Number 2 (optional):
      <select id="phoneLabel2">
        <option>Mobile</option>
        <option>Fax</option>
      </select><br>
      <input id="phone2" type="tel">
    </label>

    <!-- Signature Preview -->
    <div class="signature" id="signatureOutput">
      Your signature will appear here.
    </div>

    <script>
      const centers = [
        { name: "RiteCare Childhood Language Center of Bakersfield", address1: "1920 18th St.", address2: "Bakersfield, CA 93301", slug: "bakersfield" },
        /* ... other centers ... */
        { name: "RiteCare Childhood Language Center of Ventura", address1: "5021 Verdugo Way #105", address2: "Camarillo, CA 93012", slug: "ventura" }
      ];

      const centerSelect = document.getElementById('center');
      centers.forEach((c,i) => {
        const opt = document.createElement('option');
        opt.value = i;
        opt.textContent = c.name;
        centerSelect.appendChild(opt);
      });

      // Listen to inputs
      ['center','fullname','title','email','phone2','phoneLabel2'].forEach(id => {
        document.getElementById(id).addEventListener('input', generateSignature);
      });

      function generateSignature() {
        const idx = centerSelect.value;
        const name = document.getElementById('fullname').value.trim();
        const title = document.getElementById('title').value;
        const email = document.getElementById('email').value.trim();
        const phone2 = document.getElementById('phone2').value.trim();
        const phoneLabel2 = document.getElementById('phoneLabel2').value;
        
        if(idx === '' || !name || !title || !email) {
          document.getElementById('signatureOutput').innerHTML = 'Please complete all required fields.';
          return;
        }

        const c = centers[idx];
        const phoneLine1 = `<span style=\"color:#6e6e6e;\">Main:</span> <a href=\"tel:+17145477325\" style=\"color:#6e6e6e;text-decoration:none;\">(714) 547-7325</a><br>`;
        const phoneLine2 = phone2 ? `<span style=\"color:#6e6e6e;\">${phoneLabel2}:</span> <a href=\"tel:${phone2}\" style=\"color:#6e6e6e;text-decoration:none;\">${phone2}</a><br>` : '';

        const sigHTML = `
<table cellpadding="0" cellspacing="0" style="font-family:'Readex Pro',Arial,sans-serif;font-size:12px;color:#6e6e6e;line-height:1.0;">
  <tr>
    <td style="vertical-align:top;">
      <p style="margin:0;font-size:15px;font-weight:bold;color:#e43926;">${name}</p>
      <p style="margin:0;font-weight:bold;color:#6e6e6e;">${title}</p>
      <p style="margin:0;font-weight:bold;color:#6e6e6e;">${c.name}</p>
      <p style="margin:9px 0 0 0;color:#6e6e6e;">
        ${c.address1}<br>
        ${c.address2}
      </p>
      <p style="margin:0;">
        ${phoneLine1}
        ${phoneLine2}
        <a href=\"mailto:${email}\" style=\"color:#6e6e6e;text-decoration:none;\">${email}</a><br>
        <a href=\"https://casrf.org/${c.slug}\" style=\"color:#6e6e6e;text-decoration:none;\">casrf.org/${c.slug}</a>
      </p>
      <p style="margin-top:16px;">
        <img src="https://raw.githubusercontent.com/casrfdev/ritecare-signature/refs/heads/main/RiteCare_Logo_Transparent_Clean.png" alt="RiteCare Logo" style="width:120px;height:auto;border:none;">
      </p>
    </td>
  </tr>
</table>`;

        document.getElementById('signatureOutput').innerHTML = sigHTML;
      }
    </script>
  </body>
</html>
